(this.webpackJsonpcountries=this.webpackJsonpcountries||[]).push([[0],{42:function(e,t,n){e.exports=n(85)},70:function(e,t,n){},71:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(18),s=n.n(c),o=n(15),i=n(12),l=n(37),u=n(21),p=n(5),m=n(7),h=n(8),d=n(10),y=n(9),f=n(11),g=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).state={theme:"Dark"},n.goToMainPage=function(){n.props.history.push("/")},n.changeTheme=function(){n.setState({theme:"Dark"===n.state.theme?"Light":"Dark"}),document.documentElement.setAttribute("data-theme",n.state.theme.toLowerCase())},n}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement("header",null,r.a.createElement("div",{className:"header-wrapper"},r.a.createElement("h1",{onClick:this.goToMainPage},"Where in the world?"),r.a.createElement("span",{onClick:this.changeTheme,className:"theme-mode"},r.a.createElement("i",{className:"Dark"===this.state.theme?"far fa-moon":"fas fa-moon",style:{marginRight:"7px"}}),"".concat(this.state.theme," Mode"))))}}]),t}(r.a.Component),E=Object(p.f)(g),b=n(41),v=n(17),N=n.n(v),_=n(25),C=n(39),k=n.n(C).a.create({baseURL:"https://restcountries.eu/rest/v2"}),O=(n(70),function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).state={redirect:!1},n.onClick=function(){n.setState({redirect:!0})},n}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return!0===this.state.redirect?r.a.createElement(p.a,{push:!0,to:"/".concat(this.props.country.name)}):r.a.createElement("div",{className:"country-card",key:this.props.country.name,onClick:this.onClick},r.a.createElement("div",{className:"country-card__img",style:{backgroundImage:"url("+this.props.country.flag+")"}}),r.a.createElement("div",{className:"country-card__info-section"},r.a.createElement("h3",{className:"country-card__title"},this.props.country.name),r.a.createElement("span",{className:"country-card__info-detail"},r.a.createElement("strong",null,"Population:")," ",this.props.country.population.toLocaleString()),r.a.createElement("span",{className:"country-card__info-detail"},r.a.createElement("strong",null,"Region:")," ",this.props.country.region),r.a.createElement("span",{className:"country-card__info-detail"},r.a.createElement("strong",null,"Capital:")," ",this.props.country.capital)))}}]),t}(r.a.Component)),j=(n(71),function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(n=Object(d.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(c)))).state={selectOpen:!1},n.toggle=function(){n.setState({selectOpen:!n.state.selectOpen})},n.onClick=function(e){var t=!1;e.target.parentNode.querySelector(".custom-option.selected")?e.target.classList.contains("selected")||(e.target.parentNode.querySelector(".custom-option.selected").classList.remove("selected"),e.target.classList.add("selected"),e.target.closest(".custom-select").querySelector(".custom-select__trigger span").textContent=e.target.textContent,t=!0):(e.target.classList.add("selected"),e.target.closest(".custom-select").querySelector(".custom-select__trigger span").textContent=e.target.textContent,t=!0),t&&n.props.onChange(e.target.getAttribute("data-value"))},n.renderOptions=function(){return n.props.options.map((function(e){return r.a.createElement("span",{className:n.props.selected===e?"custom-option selected":"custom-option","data-value":e,key:e,onClick:n.onClick},e)}))},n}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{onClick:this.toggle,className:this.state.selectOpen?"custom-select open":"custom-select"},r.a.createElement("div",{className:"custom-select__trigger"},r.a.createElement("span",null,this.props.selected||this.props.title),r.a.createElement("div",{className:"arrow"})),r.a.createElement("div",{className:"custom-options"},this.renderOptions()))}}]),t}(r.a.Component)),T=n(40),w=n.n(T),x=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(d.a)(this,Object(y.a)(t).call(this,e))).options=["Africa","Americas","Europe","Asia","Oceania"],n.state={selected:null},n.getListFromQuery=function(e){var t=w.a.parse(e);if(t&&t.region){var a=n.options.find((function(e){return e.toLowerCase()===t.region.toLowerCase()}));a&&(n.props.fetchCountries("region",a),n.setState({selected:a}))}else t&&t.search?(n.props.fetchCountries("name",t.search),n.searchInput.current.value=t.search,n.setState({selected:null})):(n.props.fetchCountries(),n.setState({selected:null}))},n.onSelectChange=function(e){n.props.history.push("/?region=".concat(e)),n.searchInput.current.value=""},n.renderCountriesList=function(){return n.props.countries?n.props.countries.map((function(e){return r.a.createElement(O,{country:e,key:e.name})})):r.a.createElement("div",null,"No countres found")},n.findCountries=function(){var e=n.searchInput.current.value;e&&n.props.history.push("/?search=".concat(e))},n.onUserTypedToInput=function(e){13===e.keyCode&&n.findCountries()},n.searchInput=Object(a.createRef)(),n}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.getListFromQuery(this.props.location.search)}},{key:"componentDidUpdate",value:function(e){this.props.location.search!==e.location.search&&this.getListFromQuery(this.props.location.search)}},{key:"render",value:function(){return r.a.createElement("div",{className:"main-wrapper"},r.a.createElement("div",{className:"search-filter-menu"},r.a.createElement("div",{className:"input-wrapper"},r.a.createElement("input",{type:"search",placeholder:"Search for a country...",onKeyUp:this.onUserTypedToInput,ref:this.searchInput}),r.a.createElement("i",{className:"fas fa-search",onClick:this.findCountries})),r.a.createElement("div",{className:"custom-select-wrapper"},r.a.createElement(j,{options:this.options,title:"Filter by Region",onChange:this.onSelectChange,selected:this.state.selected}))),r.a.createElement("div",{className:"countries-list"},this.renderCountriesList()))}}]),t}(r.a.Component),S=Object(i.d)(p.f,Object(o.b)((function(e){return{countries:e.countries.countries}}),{fetchCountries:function(e,t){return function(){var n=Object(_.a)(N.a.mark((function n(a,r){var c,s;return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((c=r()).countries.searchType!==e||c.countries.searchQuery!==t){n.next=3;break}return n.abrupt("return");case 3:if(n.prev=3,t&&e){n.next=10;break}return n.next=7,k.get("/all");case 7:s=n.sent,n.next=20;break;case 10:if("region"!==e){n.next=16;break}return n.next=13,k.get("/region/".concat(t));case 13:s=n.sent,n.next=20;break;case 16:if("name"!==e){n.next=20;break}return n.next=19,k.get("/name/".concat(t));case 19:s=n.sent;case 20:a({type:"FETCH_COUNTRIES",payload:{searchType:e,searchQuery:t,countries:s.data}}),n.next=26;break;case 23:n.prev=23,n.t0=n.catch(3),a({type:"FETCH_COUNTRIES",payload:{searchType:e,searchQuery:t,countries:null}});case 26:case"end":return n.stop()}}),n,null,[[3,23]])})));return function(e,t){return n.apply(this,arguments)}}()}}))(x),L=(n(83),function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(n=Object(d.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(c)))).onBackButtonClick=function(){n.props.history.goBack()},n.onBadgeClick=function(e){n.props.history.push("/".concat(e))},n.renderBorderCountries=function(){return n.props.country.borders.map((function(e){return r.a.createElement("button",{className:"border-badge",onClick:function(){return n.onBadgeClick(e)},key:e},e)}))},n}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.countryName;this.props.fetchCountry(e)}},{key:"componentDidUpdate",value:function(e){this.props.match.params.countryName!==e.match.params.countryName&&this.props.fetchCountry(this.props.match.params.countryName)}},{key:"render",value:function(){return this.props.country?r.a.createElement("div",{className:"country-details-wrapper"},r.a.createElement("button",{className:"back-button",onClick:this.onBackButtonClick},r.a.createElement("i",{className:"fas fa-arrow-left"}),"Back"),r.a.createElement("div",{className:"country-details"},r.a.createElement("div",{className:"country-details__img-container"},r.a.createElement("img",{src:this.props.country.flag,alt:"Flag of ".concat(this.props.country.name)})),r.a.createElement("div",{className:"country-details__right-section"},r.a.createElement("h1",{className:"country-details__title"},this.props.country.name),r.a.createElement("div",{className:"country-details__info-container"},r.a.createElement("div",{className:"country-details__general-info"},r.a.createElement("span",{className:"country-details__info-item"},r.a.createElement("strong",null,"Native Name: "),this.props.country.nativeName),r.a.createElement("span",{className:"country-details__info-item"},r.a.createElement("strong",null,"Population: "),this.props.country.population.toLocaleString()),r.a.createElement("span",{className:"country-details__info-item"},r.a.createElement("strong",null,"Region: "),this.props.country.region),r.a.createElement("span",{className:"country-details__info-item"},r.a.createElement("strong",null,"Sub Region: "),this.props.country.subregion),r.a.createElement("span",{className:"country-details__info-item"},r.a.createElement("strong",null,"Capital: "),this.props.country.capital)),r.a.createElement("div",{className:"country-details__secondary-info"},r.a.createElement("span",{className:"country-details__info-item"},r.a.createElement("strong",null,"Top Level Domain: "),this.props.country.topLevelDomain.join(", ")),r.a.createElement("span",{className:"country-details__info-item"},r.a.createElement("strong",null,"Currencies: "),this.props.country.currencies.map((function(e){return e.name})).join(", ")),r.a.createElement("span",{className:"country-details__info-item"},r.a.createElement("strong",null,"Languages: "),this.props.country.languages.map((function(e){return e.name})).join(", ")))),this.props.country.borders&&this.props.country.borders.length>0?r.a.createElement("div",{className:"country-details__border-countries-container"},r.a.createElement("div",{className:"country-details__border-countries"},r.a.createElement("strong",null,"Border\xa0Countries:\xa0")),r.a.createElement("div",{className:"country-details__badges"},this.renderBorderCountries())):null))):r.a.createElement("div",null,"No country")}}]),t}(r.a.Component)),R=Object(o.b)((function(e){return{country:e.country}}),{fetchCountry:function(e){return function(){var t=Object(_.a)(N.a.mark((function t(n,a){var r,c,s,o,i,l,u;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r=a()).country||r.country.name!==e){t.next=3;break}return t.abrupt("return");case 3:if(n({type:"FETCH_COUNTRY",payload:null}),!(s=r.countries.countries.find((function(t){return t.name===e})))){t.next=9;break}c=Object(b.a)({},s),t.next=19;break;case 9:return t.prev=9,t.next=12,k.get("/name/".concat(e));case 12:o=t.sent,c=o.data[0],t.next=19;break;case 16:return t.prev=16,t.t0=t.catch(9),t.abrupt("return");case 19:if(!((i=c.borders)&&i.length>0)){t.next=26;break}return l=i.join(";"),t.next=24,k.get("/alpha?codes=".concat(l));case 24:u=t.sent,c.borders=u.data.map((function(e){return e.name}));case 26:n({type:"FETCH_COUNTRY",payload:c});case 27:case"end":return t.stop()}}),t,null,[[9,16]])})));return function(e,n){return t.apply(this,arguments)}}()}})(L),U=function(){return r.a.createElement("div",{className:"wrapper"},r.a.createElement(u.a,null,r.a.createElement(E,null),r.a.createElement("main",null,r.a.createElement("div",{className:"app-container"},r.a.createElement(p.b,{path:"/",exact:!0,component:S}),r.a.createElement(p.b,{path:"/:countryName",component:R})))))},D=(n(84),{searchType:null,searchQuery:null,countries:[]}),I=Object(i.c)({countries:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_COUNTRIES":return{searchType:t.payload.searchType,searchQuery:t.payload.searchQuery,countries:t.payload.countries};default:return e}},country:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_COUNTRY":return t.payload;default:return e}}}),B=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,F=Object(i.e)(I,B(Object(i.a)(l.a)));s.a.render(r.a.createElement(o.a,{store:F},r.a.createElement(U,null)),document.querySelector("#root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.86df45f6.chunk.js.map